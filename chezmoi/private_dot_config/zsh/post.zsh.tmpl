# ------------------------------
# Post-init module configuration
# ------------------------------

#
# zsh-history-substring-search
#

zmodload -F zsh/terminfo +p:terminfo
# Bind ^[[A/^[[B manually so up/down works both before and after zle-line-init
for key ('^[[A' '^P' ${terminfo[kcuu1]}) bindkey ${key} history-substring-search-up
for key ('^[[B' '^N' ${terminfo[kcud1]}) bindkey ${key} history-substring-search-down
for key ('k') bindkey -M vicmd ${key} history-substring-search-up
for key ('j') bindkey -M vicmd ${key} history-substring-search-down
unset key
# End configuration added by Zim install

# defer smartcache eval
{{- if lookPath "brew" }}
zsh-defer smartcache eval brew shellenv
{{- end }}
{{- if lookPath "direnv" }}
zsh-defer smartcache eval direnv hook zsh
{{- end }}
{{- if lookPath "fzf" }}
zsh-defer smartcache eval fzf --zsh
{{- end }}
{{- if lookPath "mcfly" }}
zsh-defer smartcache eval mcfly init zsh
{{- end }}
{{- if lookPath "mcfly-fzf" }}
zsh-defer smartcache eval mcfly-fzf init zsh
{{- end }}
{{- if lookPath "mise" }}
zsh-defer smartcache eval mise activate zsh
{{- end }}
{{- if lookPath "starship" }}
zsh-defer smartcache eval starship init zsh
{{- end }}
{{- if lookPath "thefuck" }}
zsh-defer smartcache eval thefuck --alias
{{- end }}
{{- if lookPath "zoxide" }}
zsh-defer smartcache eval zoxide init zsh
{{- end }}

